<div class="auth-container">
    <!-- Sign In Form -->
    <div class="auth-form" [class.active]="!showSignUp">
        <h2>Connexion</h2>
        <p class="auth-desc">Connectez-vous à votre compte CloudConnect</p>

        <form [formGroup]="signInForm" (ngSubmit)="onSignIn()">
            <div class="form-group">
                <label for="signInEmail">Email</label>
                <div class="input-wrapper">
                    <i class="fas fa-envelope"></i>
                    <input
                        type="email"
                        id="signInEmail"
                        formControlName="email"
                        placeholder="votre@email.com">
                </div>
                <div class="error-message" *ngIf="signInForm.get('email')?.errors?.['required'] && signInForm.get('email')?.touched">
                    L'email est requis
                </div>
                <div class="error-message" *ngIf="signInForm.get('email')?.errors?.['email'] && signInForm.get('email')?.touched">
                    Veuillez entrer une adresse email valide
                </div>
            </div>

            <div class="form-group">
                <label for="signInPassword">Mot de passe</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input
                        [type]="showPassword ? 'text' : 'password'"
                        id="signInPassword"
                        formControlName="password"
                        placeholder="Votre mot de passe">
                    <button type="button" class="toggle-password" (click)="togglePassword()">
                        <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
                    </button>
                </div>
                <div class="error-message" *ngIf="signInForm.get('password')?.errors?.['required'] && signInForm.get('password')?.touched">
                    Le mot de passe est requis
                </div>
            </div>

            <div class="form-options">
                <label class="remember-me">
                    <input type="checkbox" formControlName="rememberMe">
                    <span>Se souvenir de moi</span>
                </label>
                <a href="/reset-password" class="forgot-password">Mot de passe oublié ?</a>
            </div>

            <button type="submit" class="btn-submit" [disabled]="signInForm.invalid">
                Se connecter
            </button>
        </form>

        <p class="switch-form">
            Pas encore de compte ?
            <a href="javascript:void(0)" (click)="toggleForm()">Créer un compte</a>
        </p>

        <div class="social-login">
            <p>Ou connectez-vous avec</p>
            <div class="social-buttons">
                <button type="button" class="btn-social btn-google">
                    <i class="fab fa-google"></i> Google
                </button>
                <button type="button" class="btn-social btn-github">
                    <i class="fab fa-github"></i> GitHub
                </button>
            </div>
        </div>
    </div>

    <!-- Sign Up Form -->
    <div class="auth-form" [class.active]="showSignUp">
        <h2>Créer un compte</h2>
        <p class="auth-desc">Rejoignez CloudConnect et commencez à héberger vos projets</p>

        <form [formGroup]="signUpForm" (ngSubmit)="onSignUp()">
            <div class="form-group">
                <label for="signUpName">Nom complet</label>
                <div class="input-wrapper">
                    <i class="fas fa-user"></i>
                    <input
                        type="text"
                        id="signUpName"
                        formControlName="name"
                        placeholder="Votre nom complet">
                </div>
                <div class="error-message" *ngIf="signUpForm.get('name')?.errors?.['required'] && signUpForm.get('name')?.touched">
                    Le nom est requis
                </div>
            </div>

            <div class="form-group">
                <label for="signUpEmail">Email</label>
                <div class="input-wrapper">
                    <i class="fas fa-envelope"></i>
                    <input
                        type="email"
                        id="signUpEmail"
                        formControlName="email"
                        placeholder="votre@email.com">
                </div>
                <div class="error-message" *ngIf="signUpForm.get('email')?.errors?.['required'] && signUpForm.get('email')?.touched">
                    L'email est requis
                </div>
                <div class="error-message" *ngIf="signUpForm.get('email')?.errors?.['email'] && signUpForm.get('email')?.touched">
                    Veuillez entrer une adresse email valide
                </div>
            </div>

            <div class="form-group">
                <label for="signUpPassword">Mot de passe</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input
                        [type]="showPassword ? 'text' : 'password'"
                        id="signUpPassword"
                        formControlName="password"
                        placeholder="Choisissez un mot de passe">
                    <button type="button" class="toggle-password" (click)="togglePassword()">
                        <i [class]="showPassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
                    </button>
                </div>
                <div class="error-message" *ngIf="signUpForm.get('password')?.errors?.['required'] && signUpForm.get('password')?.touched">
                    Le mot de passe est requis
                </div>
                <div class="error-message" *ngIf="signUpForm.get('password')?.errors?.['minlength'] && signUpForm.get('password')?.touched">
                    Le mot de passe doit contenir au moins 8 caractères
                </div>
            </div>

            <div class="form-group">
                <label for="signUpConfirmPassword">Confirmer le mot de passe</label>
                <div class="input-wrapper">
                    <i class="fas fa-lock"></i>
                    <input
                        [type]="showPassword ? 'text' : 'password'"
                        id="signUpConfirmPassword"
                        formControlName="confirmPassword"
                        placeholder="Confirmez votre mot de passe">
                </div>
                <div class="error-message" *ngIf="signUpForm.errors?.['passwordMismatch'] && signUpForm.get('confirmPassword')?.touched">
                    Les mots de passe ne correspondent pas
                </div>
            </div>

            <div class="form-group terms">
                <label class="checkbox-label">
                    <input type="checkbox" formControlName="terms">
                    <span>J'accepte les <a href="/terms">conditions d'utilisation</a> et la <a href="/privacy">politique de confidentialité</a></span>
                </label>
                <div class="error-message" *ngIf="signUpForm.get('terms')?.errors?.['required'] && signUpForm.get('terms')?.touched">
                    Vous devez accepter les conditions d'utilisation
                </div>
            </div>

            <button type="submit" class="btn-submit" [disabled]="signUpForm.invalid">
                Créer mon compte
            </button>
        </form>

        <p class="switch-form">
            Déjà membre ?
            <a href="javascript:void(0)" (click)="toggleForm()">Se connecter</a>
        </p>

        <div class="social-login">
            <p>Ou inscrivez-vous avec</p>
            <div class="social-buttons">
                <button type="button" class="btn-social btn-google">
                    <i class="fab fa-google"></i> Google
                </button>
                <button type="button" class="btn-social btn-github">
                    <i class="fab fa-github"></i> GitHub
                </button>
            </div>
        </div>
    </div>
</div>
